const data = {
  "faceAnnotations": [
    {
      "boundingPoly": {
        "vertices": [
          {
            "x": 142,
            "y": 81
          },
          {
            "x": 338,
            "y": 81
          },
          {
            "x": 338,
            "y": 310
          },
          {
            "x": 142,
            "y": 310
          }
        ]
      },
      "fdBoundingPoly": {
        "vertices": [
          {
            "x": 166,
            "y": 135
          },
          {
            "x": 307,
            "y": 135
          },
          {
            "x": 307,
            "y": 276
          },
          {
            "x": 166,
            "y": 276
          }
        ]
      },
      "landmarks": [
        {
          "type": "LEFT_EYE",
          "position": {
            "x": 208.24721,
            "y": 179.86935,
            "z": 0.0004598672
          }
        },
        {
          "type": "RIGHT_EYE",
          "position": {
            "x": 266.67117,
            "y": 180.91595,
            "z": -4.447646
          }
        },
        {
          "type": "LEFT_OF_LEFT_EYEBROW",
          "position": {
            "x": 189.73215,
            "y": 167.96248,
            "z": 7.249312
          }
        },
        {
          "type": "RIGHT_OF_LEFT_EYEBROW",
          "position": {
            "x": 221.314,
            "y": 166.99936,
            "z": -11.901189
          }
        },
        {
          "type": "LEFT_OF_RIGHT_EYEBROW",
          "position": {
            "x": 251.25798,
            "y": 167.44983,
            "z": -14.15042
          }
        },
        {
          "type": "RIGHT_OF_RIGHT_EYEBROW",
          "position": {
            "x": 288.06586,
            "y": 170.70767,
            "z": 0.44476175
          }
        },
        {
          "type": "MIDPOINT_BETWEEN_EYES",
          "position": {
            "x": 236.23082,
            "y": 178.91925,
            "z": -14.674346
          }
        },
        {
          "type": "NOSE_TIP",
          "position": {
            "x": 234.07968,
            "y": 212.69171,
            "z": -34.003014
          }
        },
        {
          "type": "UPPER_LIP",
          "position": {
            "x": 234.34332,
            "y": 235.59523,
            "z": -21.341528
          }
        },
        {
          "type": "LOWER_LIP",
          "position": {
            "x": 234.39948,
            "y": 255.6596,
            "z": -18.172766
          }
        },
        {
          "type": "MOUTH_LEFT",
          "position": {
            "x": 207.31526,
            "y": 240.63359,
            "z": -2.38303
          }
        },
        {
          "type": "MOUTH_RIGHT",
          "position": {
            "x": 263.07138,
            "y": 242.54956,
            "z": -6.471796
          }
        },
        {
          "type": "MOUTH_CENTER",
          "position": {
            "x": 234.76399,
            "y": 245.5293,
            "z": -17.452301
          }
        },
        {
          "type": "NOSE_BOTTOM_RIGHT",
          "position": {
            "x": 253.83864,
            "y": 217.88351,
            "z": -12.276897
          }
        },
        {
          "type": "NOSE_BOTTOM_LEFT",
          "position": {
            "x": 218.10852,
            "y": 217.60382,
            "z": -9.822424
          }
        },
        {
          "type": "NOSE_BOTTOM_CENTER",
          "position": {
            "x": 234.62538,
            "y": 223.86932,
            "z": -20.909075
          }
        },
        {
          "type": "LEFT_EYE_TOP_BOUNDARY",
          "position": {
            "x": 207.44196,
            "y": 176.71465,
            "z": -3.8194695
          }
        },
        {
          "type": "LEFT_EYE_RIGHT_CORNER",
          "position": {
            "x": 218.7112,
            "y": 182.01524,
            "z": -0.716293
          }
        },
        {
          "type": "LEFT_EYE_BOTTOM_BOUNDARY",
          "position": {
            "x": 207.45166,
            "y": 184.087,
            "z": -0.7891312
          }
        },
        {
          "type": "LEFT_EYE_LEFT_CORNER",
          "position": {
            "x": 196.3082,
            "y": 181.40718,
            "z": 6.2302575
          }
        },
        {
          "type": "LEFT_EYE_PUPIL",
          "position": {
            "x": 206.56503,
            "y": 180.93198,
            "z": -1.5611222
          }
        },
        {
          "type": "RIGHT_EYE_TOP_BOUNDARY",
          "position": {
            "x": 266.48062,
            "y": 177.9978,
            "z": -8.327442
          }
        },
        {
          "type": "RIGHT_EYE_RIGHT_CORNER",
          "position": {
            "x": 278.91595,
            "y": 183.09879,
            "z": -0.04361722
          }
        },
        {
          "type": "RIGHT_EYE_BOTTOM_BOUNDARY",
          "position": {
            "x": 266.73685,
            "y": 185.30693,
            "z": -5.296498
          }
        },
        {
          "type": "RIGHT_EYE_LEFT_CORNER",
          "position": {
            "x": 254.64503,
            "y": 182.38562,
            "z": -3.4784248
          }
        },
        {
          "type": "RIGHT_EYE_PUPIL",
          "position": {
            "x": 267.19623,
            "y": 182.25114,
            "z": -6.245025
          }
        },
        {
          "type": "LEFT_EYEBROW_UPPER_MIDPOINT",
          "position": {
            "x": 205.15703,
            "y": 159.4967,
            "z": -5.7161136
          }
        },
        {
          "type": "RIGHT_EYEBROW_UPPER_MIDPOINT",
          "position": {
            "x": 269.24326,
            "y": 160.88593,
            "z": -10.586403
          }
        },
        {
          "type": "LEFT_EAR_TRAGION",
          "position": {
            "x": 174.39166,
            "y": 214.12018,
            "z": 74.34282
          }
        },
        {
          "type": "RIGHT_EAR_TRAGION",
          "position": {
            "x": 309.2747,
            "y": 217.15498,
            "z": 64.08385
          }
        },
        {
          "type": "FOREHEAD_GLABELLA",
          "position": {
            "x": 236.49101,
            "y": 166.10391,
            "z": -15.315347
          }
        },
        {
          "type": "CHIN_GNATHION",
          "position": {
            "x": 234.27127,
            "y": 282.1848,
            "z": -11.539802
          }
        },
        {
          "type": "CHIN_LEFT_GONION",
          "position": {
            "x": 178.43738,
            "y": 250.13431,
            "z": 47.437477
          }
        },
        {
          "type": "CHIN_RIGHT_GONION",
          "position": {
            "x": 299.6326,
            "y": 252.86888,
            "z": 38.17673
          }
        }
      ],
      "rollAngle": 1.5009181,
      "panAngle": -4.3657646,
      "tiltAngle": 3.3372293,
      "detectionConfidence": 0.94159937,
      "landmarkingConfidence": 0.70094794,
      "joyLikelihood": "VERY_LIKELY",
      "sorrowLikelihood": "VERY_UNLIKELY",
      "angerLikelihood": "VERY_UNLIKELY",
      "surpriseLikelihood": "VERY_UNLIKELY",
      "underExposedLikelihood": "VERY_UNLIKELY",
      "blurredLikelihood": "VERY_UNLIKELY",
      "headwearLikelihood": "VERY_UNLIKELY"
    }
  ],
  "labelAnnotations": [
    {
      "mid": "/m/01g317",
      "description": "person",
      "score": 0.94038934
    },
    {
      "mid": "/m/083jv",
      "description": "white",
      "score": 0.9382131
    },
    {
      "mid": "/m/01g6gs",
      "description": "black and white",
      "score": 0.90764177
    },
    {
      "mid": "/m/01dv4h",
      "description": "portrait",
      "score": 0.7406213
    },
    {
      "mid": "/m/01qkbx",
      "description": "professional",
      "score": 0.7172191
    },
    {
      "mid": "/m/01mwkf",
      "description": "monochrome",
      "score": 0.620719
    },
    {
      "mid": "/m/0chml9",
      "description": "portrait photography",
      "score": 0.6131627
    },
    {
      "mid": "/m/03d49p1",
      "description": "monochrome photography",
      "score": 0.5769162
    },
    {
      "mid": "/m/063km",
      "description": "profession",
      "score": 0.5696402
    }
  ],
  "safeSearchAnnotation": {
    "adult": "VERY_UNLIKELY",
    "spoof": "UNLIKELY",
    "medical": "UNLIKELY",
    "violence": "UNLIKELY"
  },
  "imagePropertiesAnnotation": {
    "dominantColors": {
      "colors": [
        {
          "color": {
            "red": 233,
            "green": 230,
            "blue": 228
          },
          "score": 0.48671013,
          "pixelFraction": 0.4952071
        },
        {
          "color": {
            "red": 45,
            "green": 48,
            "blue": 47
          },
          "score": 0.183249,
          "pixelFraction": 0.17763314
        },
        {
          "color": {
            "red": 30,
            "green": 31,
            "blue": 33
          },
          "score": 0.092474245,
          "pixelFraction": 0.09408284
        },
        {
          "color": {
            "red": 198,
            "green": 197,
            "blue": 193
          },
          "score": 0.0843893,
          "pixelFraction": 0.083905324
        },
        {
          "color": {
            "red": 80,
            "green": 83,
            "blue": 80
          },
          "score": 0.07050875,
          "pixelFraction": 0.06763314
        },
        {
          "color": {
            "red": 158,
            "green": 158,
            "blue": 154
          },
          "score": 0.050939355,
          "pixelFraction": 0.050532546
        },
        {
          "color": {
            "red": 118,
            "green": 119,
            "blue": 116
          },
          "score": 0.031729206,
          "pixelFraction": 0.031005917
        }
      ]
    }
  },
  "cropHintsAnnotation": {
    "cropHints": [
      {
        "boundingPoly": {
          "vertices": [
            {
              "x": 13
            },
            {
              "x": 414
            },
            {
              "x": 414,
              "y": 494
            },
            {
              "x": 13,
              "y": 494
            }
          ]
        },
        "confidence": 1,
        "importanceFraction": 1.09
      },
      {
        "boundingPoly": {
          "vertices": [
            {},
            {
              "x": 494
            },
            {
              "x": 494,
              "y": 494
            },
            {
              "y": 494
            }
          ]
        },
        "confidence": 1,
        "importanceFraction": 1.12
      },
      {
        "boundingPoly": {
          "vertices": [
            {},
            {
              "x": 494
            },
            {
              "x": 494,
              "y": 414
            },
            {
              "y": 414
            }
          ]
        },
        "confidence": 1,
        "importanceFraction": 1.09
      }
    ]
  },
  "webDetection": {
    "webEntities": [
      {
        "entityId": "/g/11cllpv2f3",
        "score": 6.02912,
        "description": "Ryan Johnson Real Estate"
      },
      {
        "entityId": "/g/1pv5xs4lk",
        "score": 2.76872,
        "description": "Newport Beach Real Estate"
      },
      {
        "entityId": "/g/1tkc6_1v",
        "score": 2.69712,
        "description": "Newport Center Drive"
      },
      {
        "entityId": "/g/11bwghqsw2",
        "score": 1.45808,
        "description": "kristin dahl fashion"
      },
      {
        "entityId": "/m/0t_6byn",
        "score": 0.77478,
        "description": "Phoebe Dahl"
      },
      {
        "entityId": "/g/1tdrfyft",
        "score": 0.74652,
        "description": "Huma Asghar, MD: Froedtert &amp; The Medical College of Wisconsin"
      },
      {
        "entityId": "/m/03vgrr",
        "score": 0.41418,
        "description": "LinkedIn"
      },
      {
        "entityId": "/g/1v9ghqmt",
        "score": 0.38484
      },
      {
        "entityId": "/m/06k1r",
        "score": 0.37202,
        "description": "Real Estate"
      },
      {
        "entityId": "/m/084dw",
        "score": 0.37103,
        "description": "Blog"
      },
      {
        "entityId": "/m/028sgq",
        "score": 0.33864,
        "description": "Real Estate Broker"
      },
      {
        "entityId": "/m/0xktx",
        "score": 0.145628,
        "description": "Midland Park"
      },
      {
        "entityId": "/m/0r2kh",
        "score": 0.03915904,
        "description": "Newport Beach"
      },
      {
        "entityId": "/m/01n7q",
        "score": 0.0000598512,
        "description": "California"
      },
      {
        "entityId": "/m/09c7w0",
        "score": 1.3219204e-10,
        "description": "United States of America"
      }
    ],
    "partialMatchingImages": [
      {
        "url": "http://acic-caruaru.com.br/wp-content/uploads/2011/09/Daniele-Lago1-2.jpg"
      },
      {
        "url": "http://blog.opovo.com.br/jocelioleal/wp-content/uploads/sites/117/2017/05/luciogomess-blogjocelioleal.jpg"
      },
      {
        "url": "https://www.xing.com/image/5_d_9_169acd977_22791271_2/marcel-goger-foto.1024x1024.jpg"
      },
      {
        "url": "https://lh3.googleusercontent.com/9sKSalNHvXtVl_Z8eAqPPSqALKScXe7sjze70yMFzOPduQ2rXvg"
      },
      {
        "url": "https://s3-media2.fl.yelpcdn.com/buphoto/olf75bbcr7QVwNQTXNNWDQ/o.jpg"
      },
      {
        "url": "http://fakeoff.org/image/resize/900/0/58/78/5878ba6d555dd7159a5c0bd5.jpg"
      },
      {
        "url": "http://cbsnews1.cbsistatic.com/hub/i/r/2015/04/24/786f180e-8614-4886-affd-fa08acc6d237/thumbnail/1200x630/fab75d815793de78a4727fa433377a53/screen-shot-2015-04-24-at-11-24-21-am.png"
      },
      {
        "url": "https://community.visma.com/upload/UserData/53128/FullSizeRender.jpg"
      },
      {
        "url": "https://s-media-cache-ak0.pinimg.com/736x/60/19/dd/6019dd1063bdd053bb8dee0cce6261d6.jpg"
      },
      {
        "url": "https://s-media-cache-ak0.pinimg.com/736x/9c/bb/05/9cbb0565ea962602fb74a4be39efd4bf.jpg"
      },
      {
        "url": "https://img.bestofinsta.org/t51.2885-15/s640x640/sh0.08/e35/12905234_665476360250733_1460229531_n.jpg?ig_cache_key=MTIzMjYyMzUxNTA2MTQ4NjU2Mg%3D%3D.2"
      },
      {
        "url": "https://lh3.googleusercontent.com/-tE_S3hgqHOk/AAAAAAAAAAI/AAAAAAAAMf4/nmD1W6W9U3U/s640/photo.jpg"
      },
      {
        "url": "http://beautyink.se/wp/wp-content/uploads/2017/01/artdeco_beauty_ink_pia_axelsson-500x500.jpg"
      },
      {
        "url": "http://www.bluegrass.org/employees/Nicole_Hausknecht.JPG"
      },
      {
        "url": "https://i.ytimg.com/vi/geH5YazrQDk/hqdefault.jpg"
      },
      {
        "url": "https://i.ytimg.com/vi/oFPgt_oOB_o/hqdefault.jpg"
      },
      {
        "url": "http://irecommend.ru.q5.r-99.com/sites/default/files/imagecache/copyright/user-images/783923/CPXmyk6PIGZFg9NMqBqMoA.jpg"
      },
      {
        "url": "http://img.alguer.it/468x234_murru-pulina-ligios-11.jpg"
      },
      {
        "url": "http://www.phonicchamps.com/wp-content/themes/wpex-elegant/images/shanthi.jpg"
      },
      {
        "url": "http://www.lexpand.ca/wp-content/uploads/2017/04/Allene-Kilpatrick-with-Logo-300x300.gif"
      },
      {
        "url": "http://www.jessieweaver.net/wp-content/uploads/2008/04/jesse-and-the-rippers2_1_2.jpg"
      },
      {
        "url": "https://s-media-cache-ak0.pinimg.com/avatars/phi0662_1452390904_280.jpg"
      },
      {
        "url": "http://i187.photobucket.com/albums/x34/lcjhfrank/BLOG/Child_labour.png"
      },
      {
        "url": "https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/Furman_Owens%2C_12_years_old._Can%27t_read._Don%27t_know_A%2C_B%2C_C%27s._%22Yes_I_want_to_learn_but_can%27t_when_I_work_all_the..._-_NARA_-_523161.jpg/320px-Furman_Owens%2C_12_years_old._Can%27t_read._Don%27t_know_A%2C_B%2C_C%27s._%22Yes_I_want_to_learn_but_can%27t_when_I_work_all_the..._-_NARA_-_523161.jpg"
      },
      {
        "url": "https://vvttwente.nl/wp-content/uploads/2014/11/08.-Carola-Werger-kopie.jpg"
      },
      {
        "url": "http://doctor.mcw.edu/OPD-File-Library/Provider-Photos/Asghar_Huma.jpg"
      },
      {
        "url": "https://a0.muscache.com/im/users/7521644/profile_pic/1373987063/original.jpg?aki_policy=profile_x_medium"
      },
      {
        "url": "https://media.licdn.com/mpr/mpr/shrinknp_200_200/p/1/005/0b0/35f/246b22a.jpg"
      },
      {
        "url": "https://media.licdn.com/mpr/mpr/shrinknp_200_200/AAEAAQAAAAAAAALkAAAAJDFjMzBjODlmLWVjMWYtNDQ3Ny04YzE1LTIzMWE1YWQ3YmVkMw.jpg"
      },
      {
        "url": "https://userscontent2.emaze.com/images/65c288b1-ba17-44b1-9316-46191cfbb3d6/95d72e79-9aa9-4ea7-a403-709b436df77ejpeg"
      },
      {
        "url": "http://www.worklikeamother.com/wp-content/uploads/2016/03/Team-Leslie.jpg"
      },
      {
        "url": "http://cfile221.uf.daum.net/image/196B7A3E50922569131349"
      },
      {
        "url": "http://tmssl.akamaized.net//images/portrait/header/85901-1487695743.jpg?lm=1487695761"
      },
      {
        "url": "http://www.vfu.cz/informace-o-univerzite/organy-vfu/foto/sapikova.jpg"
      },
      {
        "url": "http://www.nippn.co.jp/recruit/newgraduate/works/chemistry/images/02_ph001.jpg"
      },
      {
        "url": "http://cdn1.sportngin.com/attachments/text_block/7727/6643/Slang_small.JPG"
      },
      {
        "url": "http://jimsbodyshopinc.com/wp-content/uploads/2014/09/Michael-Richey-150x150.jpg"
      },
      {
        "url": "https://i1.kknews.cc/list/153900002e91da271829"
      },
      {
        "url": "http://necrologie.messaggeroveneto.gelocal.it/uploads/image/file/000/837/630/837630/medium_2186794_136.jpg"
      },
      {
        "url": "http://www.colorado.edu/engineering/deaa/images/313.jpg"
      },
      {
        "url": "https://secure.gravatar.com/avatar/ecd4620e0269f37e00a44d44666124e8?s=120&amp;d=blank&amp;r=g"
      },
      {
        "url": "http://faisalhoque.com/wp-content/uploads/2011/11/FaisalHoque_1_thumb.jpg"
      },
      {
        "url": "http://www.ps.be/App_Themes/ps/ProfilesImage/Tillieux_Eliane_100x109.jpg"
      },
      {
        "url": "https://media.licdn.com/mpr/mpr/shrinknp_200_200/p/1/000/09e/08f/235b74c.jpg"
      },
      {
        "url": "https://media.licdn.com/mpr/mpr/shrink_100_100/p/1/000/09e/08f/235b74c.jpg"
      },
      {
        "url": "https://media.licdn.com/mpr/mpr/shrink_100_100/AAEAAQAAAAAAAAlOAAAAJDUyNjJlYmM4LTJlMjItNDQ3OS05ZjNmLWU2NDg5NWQ4OTdkMQ.jpg"
      },
      {
        "url": "https://media.licdn.com/mpr/mpr/shrink_100_100/AAEAAQAAAAAAAAbaAAAAJDU2MDIzNTQ4LTgwZTgtNGVkZC04MjI3LWFiMTkzYTU5NjU5Mg.jpg"
      },
      {
        "url": "https://s3-media3.fl.yelpcdn.com/photo/kyRVLJEC5M3wL3z4R0EYAA/60s.jpg"
      }
    ],
    "visuallySimilarImages": [
      {
        "url": "http://www.ethnologie.uni-halle.de/im/1316690430_761_0.jpg"
      },
      {
        "url": "https://pbs.twimg.com/profile_images/509354316298076160/4StyYroz_400x400.jpeg"
      },
      {
        "url": "https://pbs.twimg.com/profile_images/742958282046885888/9N8WfpHA.jpg"
      },
      {
        "url": "https://www.freerange.com/wp-content/uploads/2017/04/FR_staff_naoto-300x300.png"
      },
      {
        "url": "https://pbs.twimg.com/profile_images/651377602951688193/IQhq4unU.jpg"
      },
      {
        "url": "http://res.cloudinary.com/thedailybeast/image/upload/v1489778926/author/Michae_Daly.jpg"
      },
      {
        "url": "https://pbs.twimg.com/profile_images/557201385326796800/Lci9TwVw_400x400.jpeg"
      },
      {
        "url": "http://www.adacado.com/wp-content/uploads/2016/06/Tom_web_B.jpg"
      },
      {
        "url": "http://thegrill.thewrap.com/wp-content/uploads/2015/12/Jason-Blum_portrait_bw.jpg"
      },
      {
        "url": "https://www.cs.ox.ac.uk/files/7727//Alex-1024x1024.jpg"
      },
      {
        "url": "http://bruegel.org/wp-content/uploads/imported/people/20140904_bruegel-portraits_hd044.jpg"
      },
      {
        "url": "https://i.guim.co.uk/img/media/1ba2cc9c6e2f4c7e8a20326ac80240a2978754e7/491_130_935_936/935.jpg?w=700&amp;q=55&amp;auto=format&amp;usm=12&amp;fit=max&amp;s=3974d2a6caa6dd89bc5536e232a1bd8e"
      },
      {
        "url": "https://pbs.twimg.com/profile_images/570712111668424704/PeOl0_Bw.png"
      },
      {
        "url": "https://published-prd.lanyonevents.com/published/adobesummit2017/files/4615/userPhotoOriginal.jpg"
      },
      {
        "url": "https://16iww818esurj9dm316uitwf-wpengine.netdna-ssl.com/wp-content/uploads/2016/07/Ned_Prickett_edit_web-1-374x374.jpg"
      },
      {
        "url": "https://i.unu.edu/media/ehs.unu.edu/page/4370/Gusti-Ayu_portrait_sw.jpg"
      },
      {
        "url": "https://blood.ca/sites/default/files/blood/honouring-our-lifeblood/darlene_ferrell-square.JPG"
      },
      {
        "url": "https://pbs.twimg.com/profile_images/96463735/PR_black___White.jpg"
      },
      {
        "url": "http://bruegel.org/wp-content/uploads/2015/09/Reinhilde-Veugelers.jpg"
      },
      {
        "url": "https://www.tugraz.at/typo3temp/pics/364bc0d00e.jpg"
      }
    ]
  }
};

let arr = data.webDetection.visuallySimilarImages;

let photoContainer = document.getElementById('photo-container');

let imgDivStrings = arr.map(url => {
  // language=HTML
  return `<div class="aspect-ratio aspect-ratio--1x1">
      <img style="background-image:url(${url.url});"
        class="db bg-center cover aspect-ratio--object" />
    </div>`
});

imgDivStrings.forEach(img => {
  let div = document.createElement('div');
  let classes = ['faces', 'fl', 'w-50', 'w-third-m', 'w-25-ns', 'dn'];
  div.classList.add(...classes);
  div.innerHTML = img;

  div.addEventListener('click', function (e) {
    e.preventDefault();

    if (window.flashing) {
      window.clearInterval(window.interval1);
      window.flashing = false;
    } else {
      console.log('go flash!')
      window.interval1 = window.setInterval(flash, 300);
    }
  })
  photoContainer.appendChild(div);
});

const flash = () => {
  let imgs = Array.from(document.getElementsByClassName('faces'))
  let rand = Math.floor(Math.random() * imgs.length)
  imgs.forEach((div) => {
    div.classList.add('dn')
  })
  imgs[rand].classList.remove('dn')
  window.flashing = true;
};

window.interval1 = window.setInterval(flash, 300)

